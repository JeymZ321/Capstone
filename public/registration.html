<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Register - Brand</title>
    <meta name="description" content="This is the Login page">
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,400i,700,700i,600,600i">
    <link rel="stylesheet" href="assets/fonts/ionicons.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.10.0/baguetteBox.min.css">
    <link rel="stylesheet" href="assets/css/Social-Icons.css">
    <link rel="stylesheet" href="assets/css/vanilla-zoom.min.css">
    <link rel="stylesheet" href="assets/css/backgroundanimation.css">
</head>


<body>
    
    <section> 

        <div class="signin">
            <div class="content">
                <h2>Registration</h2>
                <div class="form" id="createAccForm">
                
                    <div class="inputBox">
                        <input type="text" id="email" required>
                        <i>Email</i> 
                    </div>    
                    <div class="inputBox">
                        <input type="submit" id="submit" value="Submit">
                    </div>

                    <div class="links">
                        <a href="login.html" style="margin: auto; color: rgb(255, 161, 161)">Already Have an Account?</a> | 
                    </div>
                    <!-- New container for the note -->
            <div class="notification" style="margin-top: 10px; text-align: center; font-size: 14px; color: #6c757d;">
                NOTE:
                Once you input your Gmail account, you will receive a message with instructions to complete your registration.
            </div>
                </div>
            </div>
        </div>
      </section>
      

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.2.1/js.cookie.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jwt-decode/3.1.2/jwt-decode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jwt-decode@3.1.2/build/jwt-decode.min.js"></script>
    <script>
        $(document).ready(function () {
            $('#submit').click(function (e) {
                e.preventDefault();
               
                const email = $('#email').val();
                
                $.ajax({
                    url: '/send-registration-email',
                    type: 'POST',
                    contentType: 'application/json',
                    data: JSON.stringify({ email: email }),
                    success: function (response) {
                        alert('Congratulations! You may now check your email for registration instructions.');
                    },
                    error: function (xhr) {
                        if (xhr.status === 409) {  // Check if status is 409 for "Conflict"
                            alert('This email is already registered.');
                        } else {
                            alert('Error confirming registration. Please check your email and try again.');
                        }
                    }
                });
            });
            // Get verification code button
            //$('#getCodeButton').click(function () {
            //    const email = $('#email').val();
            
            //    if (!email) {
            //        alert('Please enter your email.');
            //        return;
            //    }

            //    // Send code request
            //    $.ajax({
            //        type: 'POST',
            //        url: '/send-code',
            //        data: JSON.stringify({ email }),
            //        contentType: 'application/json',
            //        success: function (response) {
            //            alert(response.message);
            //        },
            //        error: function (xhr, status, error) {
            //            alert('An error occurred while sending the code: ' + (xhr.responseText || status || error));
            //        }
            //    });
            //});

    });
    </script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/bs-init.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.10.0/baguetteBox.min.js"></script>
    <script src="assets/js/vanilla-zoom.js"></script>
    <script src="assets/js/theme.js"></script>
</body>

</html>